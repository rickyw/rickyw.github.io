<!DOCTYPE html>
<html>
<head>
<title>W3.CSS Template</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="./assets/css/w3.css">
<script src="./assets/js/jquery.min.f65891607efbe75b84a8031849cec6c7.js"></script>
<style>
body,h1 {font-family: arial,sans-serif}
body, html {height: 100%}
.bgimg {
  background-image: url('./assets/images/forestbridge.jpg');
  min-height: 100%;
  background-position: center;
  background-size: cover;
}
div.ex3 {
  background-color: black;
  width: 100%;
  height: 250px;
  overflow: auto;
  padding:5% 5%;
}

</style>
<script>
// Modal Image Gallery
function onClick(element) {
  document.getElementById("img01").src = element.src;
  document.getElementById("modal01").style.display = "block";
  var captionText = document.getElementById("caption");
  captionText.innerHTML = element.alt;
}

// Change style of navbar on scroll
window.onscroll = function() {myFunction()};
function myFunction() {
    var navbar = document.getElementById("myNavbar");
    if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
        navbar.className = "w3-bar" + " w3-card" + " w3-animate-top" + " w3-white";
    } else {
        navbar.className = navbar.className.replace(" w3-card w3-animate-top w3-white", "");
    }
}

// Used to toggle the menu on small screens when clicking on the menu button
function toggleFunction() {
    var x = document.getElementById("navDemo");
    if (x.className.indexOf("w3-show") == -1) {
        x.className += " w3-show";
    } else {
        x.className = x.className.replace(" w3-show", "");
    }
}
function toggleFunction() {
    var x = document.getElementById("navDemo");
    if (x.className.indexOf("w3-show") == -1) {
        x.className += " w3-show";
    } else {
        x.className = x.className.replace(" w3-show", "");
    }
}

function updateVisibility(elementID, vis) {
    var x = document.getElementById(elementID);
    if (vis == "hide" && x.className.indexOf("w3-hide") == -1) {
        x.className += " w3-hide";
    } else if (vis == "show" && x.className.indexOf("w3-hide") != -1){
        x.className = x.className.replace(" w3-hide", "");
    }
}

function agreedTNC(){
	updateVisibility("step1","hide");
	
}

var loadSubscribe;
var substack;

function setupMain(){
		// event to trigger iframe loading
		loadSubscribe = document.getElementById("load-frame");

		// create iframe
		substack = document.createElement("iframe");
		// Add attributes
		substack.src = "./artest-ms-v2.html";
		// Set size and hide iframe border
		substack.width = "250";
		substack.height = "350";
		substack.frameBorder ="0";
		substack.scrolling = "0";
		substack.style.border= "none";
		substack.style.background = "white";
		/*
		document.getElementById("load-button").addEventListener("click", function(){
			// Add Iframe to webpage
			loadSubscribe.appendChild(substack);
			// Hide button
			this.style.display = "none";
		})
		*/
		
		// Allow window to listen for a postMessage
    window.addEventListener("message", (event)=>{
// Normally you would check event.origin
        // To verify the targetOrigin matches
        // this window's domain
		console.log("message received");
		console.log(event.data); 
		if (event.data.type == 'stamp_detected'){
		window.unloadCameraFrame();
		}
 //       let txt=document.querySelector('#txtMsg');
        // event.data contains the message sent
  //      txt.value=`Name is ${event.data.pName} Age is  ${event.data.pAge}` ;
      
    });
}

function unloadCameraFrame(){
	loadSubscribe.removeChild(substack);
	updateVisibility("step2","show");
	//document.getElementById("load-button").style.display = "block";
}
function showCamera(cid){
	updateVisibility("step2","hide");
	loadSubscribe.appendChild(substack);
	//document.getElementById("load-button").style.display = "block";
	//updateVisibility("step1","hide");
}
$(document).ready(setupMain);
</script>

</head>
<body>

<div class="bgimg w3-display-container w3-animate-opacity w3-text-white">
  <div class="w3-display-topleft w3-padding-large w3-xlarge">
    Logo
  </div>
  <div id="step1" class="w3-display-middle w3-hide">
    <h1 class="w3-jumbo w3-animate-top w3-center">MINI GAME</h1>
    <hr class="w3-border-grey" style="margin:auto;width:40%">
    <p class="w3-large w3-center">XXXX</p>
	  <div class="ex3">
  Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat.<br/>
  Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat.<br/>
  Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat.<br/>
  Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat.<br/>
  Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat.<br/>
  Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat.<br/>
  Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat.<br/>
  Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat.<br/>
  Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat.<br/>
  Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat.<br/>
  </div>
  <div class="w3-row-padding w3-center w3-section">
  <button class="w3-button w3-padding-large w3-light-grey" style="margin-top:20px" onClick="agreedTNC()">AGREE</button>
  </div>
  </div>
  
    <div id="step2" class="w3-display-middle">
    <h1 class="w3-jumbo w3-animate-top w3-center">MINI GAME!</h1>
    <hr class="w3-border-grey" style="margin:auto;width:40%">
    <p class="w3-large w3-center">XXXX</p>
	<div>
	<button class="w3-button w3-padding w3-light-grey" style="margin-top:20px" onClick="showCamera('1')">1</button>
	<button class="w3-button w3-padding w3-light-grey" style="margin-top:20px" onClick="showCamera()">2</button>
	<button class="w3-button w3-padding w3-light-grey" style="margin-top:20px" onClick="showCamera()">3</button>
	<button class="w3-button w3-padding w3-light-grey" style="margin-top:20px" onClick="showCamera()">4</button>
	<button class="w3-button w3-padding w3-light-grey" style="margin-top:20px" onClick="showCamera()">5</button>
	<button class="w3-button w3-padding w3-light-grey" style="margin-top:20px" onClick="showCamera()">6</button>
	<button class="w3-button w3-padding w3-light-grey" style="margin-top:20px" onClick="showCamera()">7</button>
	<button class="w3-button w3-padding w3-light-grey" style="margin-top:20px" onClick="showCamera()">8</button>
	</div>
 <div class="w3-row-padding w3-center w3-section">
  <button class="w3-button w3-padding-large w3-light-grey" style="margin-top:20px" onClick="agreedTNC()">REDEEM</button>
  </div>
  </div>

  <div id="load-frame" class="w3-display-middle">
		
	</div>

  <div class="w3-display-bottomleft w3-padding-large">
    Powered by <a href="" target="_blank">XXX</a>
  </div>
</div>

</body>
</html>
